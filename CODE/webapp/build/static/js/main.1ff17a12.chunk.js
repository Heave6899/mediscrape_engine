(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{11:function(e,t,n){e.exports={loader:"red-spinner_loader__1pXdB",loaderel:"red-spinner_loaderel__6ZLMZ",spin:"red-spinner_spin__15Gsw"}},13:function(e,t,n){e.exports={loader:"spinner_loader__1-BG7",loaderel:"spinner_loaderel__1o17_",spin:"spinner_spin__2g3MG"}},24:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),s=n(17),r=n.n(s),i=(n(24),n(4)),o=n(15),l=n(35),j=function(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){var n=function(n){t.current.contains(n.target)||e()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}})),t},u=n(11),d=n.n(u),h=n(1);var b=function(e){return e.className,Object(h.jsxs)("div",{className:d.a.loader,children:[Object(h.jsx)("i",{className:"".concat(d.a.loaderel)}),Object(h.jsx)("i",{className:"".concat(d.a.loaderel)})]})},p=function(e){var t=e.updateQuery,n=Object(c.useState)(!1),a=Object(i.a)(n,2),s=a[0],r=a[1],u=Object(c.useState)(""),d=Object(i.a)(u,2),p=d[0],O=d[1],f=Object(c.useState)(""),m=Object(i.a)(f,2),g=m[0],x=m[1],v=Object(c.useState)([]),N=Object(i.a)(v,2),_=N[0],y=N[1],S=Object(c.useState)([]),k=Object(i.a)(S,2),C=k[0],w=k[1],q=Object(c.useState)([]),E=Object(i.a)(q,2),B=E[0],J=E[1],P=Object(c.useState)([]),T=Object(i.a)(P,2),I=T[0],L=T[1],G=j((function(){x("")}));Object(c.useEffect)((function(){if(!(p.length<5)){x("active");var e=setTimeout((function(){r(!0),l.a.get("http://127.0.0.1:5050/auto_complete?q=".concat(p)).then((function(e){var t=e.data.syos;r(!1),t&&t.length>0&&y(t)})).catch((function(e){r(!1),console.log(e)}))}),1e3);return function(){return clearTimeout(e)}}x("")}),[p]);var D=function(e){C.indexOf(e)>-1||w([].concat(Object(o.a)(C),[e]))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"title",style:{color:"#cc0000",marginBottom:"10px",fontSize:"2rem",textAlign:"center"},children:"Mediscrape"}),Object(h.jsxs)("div",{className:"searchInput ".concat(g),children:[Object(h.jsx)("input",{type:"text",value:p,onChange:function(e){return O(e.target.value)},placeholder:"Enter.."}),Object(h.jsx)("span",{className:"icon",onClick:function(){p&&p.length>0&&C.indexOf(p)<0&&w([].concat(Object(o.a)(C),[p])),O("");var e={query:C.join(", "),page:1,page_count:20};t(C.join(", ")),r(!0),l.a.post("http://127.0.0.1:5050/search_query",e).then((function(e){r(!1);var t=[e.data.data[0]];t&&t.length>0?(console.log(e.data),J(e.data.syos),L(e.data.disea)):(J([]),L([]))})).catch((function(){return r(!1)}))},children:"\ud83d\udd0d"}),Object(h.jsxs)("div",{className:"resultBox",ref:G,children:[Object(h.jsx)("li",{onClick:function(){return D(p)},children:p},"-1"),Object(h.jsx)("li",{style:{marginTop:"5px",fontSize:"12px",fontWeight:"200"},children:"Suggestions"}),s&&Object(h.jsx)("li",{style:{padding:"40px 0"},onClick:function(){return D(p)},children:Object(h.jsx)(b,{})},"-2"),!s&&_.map((function(e,t){return Object(h.jsx)("li",{onClick:function(){return D(e)},children:e},t)}))]})]}),C.map((function(e,t){return Object(h.jsxs)("div",{className:"chip",children:[e,Object(h.jsx)("span",{className:"closebtn",onClick:function(){return function(e){w(C.filter((function(t){return t!==e})))}(e)},children:"\xd7"})]},t)})),(B.length>0||I.length>0)&&Object(h.jsx)("div",{className:"cards",style:{marginTop:"50px"},children:Object(h.jsxs)("article",{className:"information [ card ]",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{className:"heading",children:"Top Symptoms"}),B.length>0&&B.map((function(e,t){return Object(h.jsx)("div",{onClick:function(){return D(e)},className:"chip",children:e},t)}))]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{className:"heading",children:"Top Diseases"}),I.length>0&&I.map((function(e,t){return Object(h.jsx)("div",{onClick:function(){return D(e)},className:"chip",children:e},t)}))]})]})})]})},O=function(e){var t=e.text,n=e.maxLength,c=a.a.useState(!0),s=Object(i.a)(c,2),r=s[0],o=s[1];return t.length<=n?Object(h.jsx)("div",{className:"info",children:t}):Object(h.jsxs)("div",{className:"info",children:[r?"".concat(t.substr(0,n).trim(),"..."):t,r?Object(h.jsx)("a",{href:"/#",className:"link",onClick:function(){return o(!1)},children:" read more"}):Object(h.jsx)("a",{href:"/#",className:"link",onClick:function(){return o(!0)},children:" read less"})]})},f=function(e){var t,n,c,a,s,r,i=e.info;try{t=JSON.parse('"'+i.post_title[0].replace(/"/g,'\\"')+'"').replace(/%/g,"~~pct~~"),t=decodeURIComponent(t).toString().replace(/~~pct~~/g,"%"),n=JSON.parse('"'+i.post_group[0].replace(/"/g,'\\"')+'"').replace(/%/g,"~~pct~~"),n=decodeURIComponent(n).toString().replace(/~~pct~~/g,"%"),r=i.post_url[0],c=(c=JSON.stringify(i.post_content[0])).replace(/<[^>]+>/g,""),a=i.symptoms,s=i.diseases}catch(o){console.log(o),console.log(i.post_content[0]),console.log(JSON.parse('"'+i.post_title[0].replace(/"/g,'\\"')+'"')),console.log(i.post_group[0])}return Object(h.jsx)(h.Fragment,{children:t&&Object(h.jsx)("div",{className:"cards",children:Object(h.jsxs)("article",{className:"information [ card ]",children:[Object(h.jsx)("h2",{className:"title",onClick:function(){window.open(r,"_blank")},children:t}),Object(h.jsxs)("h2",{className:"subtitle",children:["Group: ",n]}),Object(h.jsx)(O,{text:c,maxLength:300}),Object(h.jsxs)("div",{children:[a&&a.length>0&&Object(h.jsx)("p",{className:"heading",children:"Symptoms"}),a&&a.length>0&&a.map((function(e,t){return Object(h.jsx)("div",{className:"chip",children:e},t)}))]}),Object(h.jsxs)("div",{children:[s&&s.length>0&&Object(h.jsx)("p",{className:"heading",children:"Disease"}),s&&s.length>0&&s.map((function(e,t){return Object(h.jsx)("div",{className:"chip",children:e},t)}))]})]})})})},m=n(18),g=n(12),x=n.n(g),v=(n(30),function(e){var t=e.onPageChange,n=e.currentPage,c=e.className;return Object(h.jsxs)("ul",{className:x()("pagination-container",Object(m.a)({},c,c)),children:[Object(h.jsx)("li",{className:x()("pagination-item",{disabled:1===n}),onClick:function(){t(n-1)},children:Object(h.jsx)("div",{className:"arrow left"})}),Object(h.jsx)("li",{className:x()("pagination-item"),onClick:function(){t(n+1)},children:Object(h.jsx)("div",{className:"arrow right"})})]})}),N=n(13),_=n.n(N);var y=function(e){return e.className,Object(h.jsxs)("div",{className:_.a.loader,children:[Object(h.jsx)("i",{className:_.a.loaderel}),Object(h.jsx)("i",{className:_.a.loaderel})]})},S=function(e){var t=e.cardInfo,n=void 0===t?[]:t,a=e.query,s=Object(c.useState)(!1),r=Object(i.a)(s,2),o=r[0],j=r[1],u=Object(c.useState)(n),d=Object(i.a)(u,2),b=d[0],p=d[1],O=Object(c.useState)(1),m=Object(i.a)(O,2),g=m[0],x=m[1];return console.log(o),Object(c.useEffect)((function(){a.length<1||(j(!0),l.a.post("http://127.0.0.1:5050/search_query",{query:a,page:g,page_count:20}).then((function(e){j(!1);var t=[e.data.data[0]];t&&t.length>0?(console.log(e.data),p(e.data.data)):p([])})).catch((function(){return j(!1)})))}),[g,a]),Object(h.jsxs)("div",{children:[o&&Object(h.jsx)(y,{className:"spinner-center"}),!o&&b.length>0&&Object(h.jsx)(v,{className:"pagination-bar",currentPage:g,onPageChange:function(e){return x(e)}}),!o&&b.length>0&&b.map((function(e,t){return Object(h.jsx)(f,{info:e},t)})),!o&&b.length>0&&Object(h.jsx)(v,{className:"pagination-bar",currentPage:g,onPageChange:function(e){return x(e)}})]})},k=(n(31),n(32),n(33),function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"shell",children:Object(h.jsxs)("div",{className:"wrap",children:[Object(h.jsx)("div",{className:"box",style:{background:"#fff"},children:Object(h.jsx)(p,{updateQuery:function(e){a(e)}})}),Object(h.jsx)("div",{className:"box",style:{background:"#ff5751"},children:Object(h.jsx)(S,{query:n})})]})}),Object(h.jsx)("div",{className:"footer",children:"Developed by Akash, Bhargav, Charles & Vansh"})]})});r.a.render(Object(h.jsx)(k,{}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.1ff17a12.chunk.js.map