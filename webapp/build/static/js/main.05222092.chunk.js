(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{22:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),s=n(15),i=n.n(s),r=(n(22),n(4)),o=n(13),l=n(33),u=function(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){var n=function(n){t.current.contains(n.target)||e()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}})),t},j=n(1),d=["Pain","Ache","Nausea","Chest Pain"],h=function(e){var t=e.updateQuery,n=Object(c.useState)(""),a=Object(r.a)(n,2),s=a[0],i=a[1],h=Object(c.useState)(""),b=Object(r.a)(h,2),p=b[0],O=b[1],f=Object(c.useState)(d),g=Object(r.a)(f,2),m=g[0],x=g[1],v=Object(c.useState)([]),N=Object(r.a)(v,2),y=N[0],S=N[1],k=Object(c.useState)([]),C=Object(r.a)(k,2),_=C[0],w=C[1],P=Object(c.useState)([]),q=Object(r.a)(P,2),E=q[0],J=q[1],T=u((function(){O("")}));Object(c.useEffect)((function(){if(!(s.length<5)){var e=setTimeout((function(){l.a.get("http://127.0.0.1:5050/auto_complete?q=".concat(s)).then((function(e){var t=e.data.syos;t&&t.length>0?(x(t),O("active")):O("")})).catch((function(e){console.log(e)}))}),1e3);return function(){return clearTimeout(e)}}O("")}),[s]);var I=function(e){y.indexOf(e)>-1||S([].concat(Object(o.a)(y),[e]))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"title",style:{color:"#cc0000",marginBottom:"10px",fontSize:"2rem",fontStyle:"italic",textAlign:"center"},children:"Mediscrape"}),Object(j.jsxs)("div",{className:"searchInput ".concat(p),children:[Object(j.jsx)("input",{type:"text",value:s,onChange:function(e){return i(e.target.value)},placeholder:"Enter.."}),Object(j.jsx)("span",{className:"icon",onClick:function(){s&&s.length>0&&y.indexOf(s)<0&&S([].concat(Object(o.a)(y),[s])),i("");var e={query:y.join(", "),page:1,page_count:20};t(y.join(", ")),l.a.post("http://127.0.0.1:5050/search_query",e).then((function(e){var t=[e.data.data[0]];t&&t.length>0?(console.log(e.data),w(e.data.syos),J(e.data.disea)):(w([]),J([]))}))},children:"\ud83d\udd0d"}),Object(j.jsxs)("div",{className:"resultBox",ref:T,children:[Object(j.jsx)("li",{onClick:function(){return I(s)},children:s},"-1"),Object(j.jsx)("li",{style:{marginTop:"5px",fontSize:"12px",fontWeight:"200"},children:"Suggestions"}),m.map((function(e,t){return Object(j.jsx)("li",{onClick:function(){return I(e)},children:e},t)}))]})]}),y.map((function(e,t){return Object(j.jsxs)("div",{className:"chip",children:[e,Object(j.jsx)("span",{className:"closebtn",onClick:function(){return function(e){S(y.filter((function(t){return t!==e})))}(e)},children:"\xd7"})]},t)})),(_.length>0||E.length>0)&&Object(j.jsx)("div",{className:"cards",style:{marginTop:"50px"},children:Object(j.jsxs)("article",{className:"information [ card ]",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"heading",children:"Top Symptoms"}),_.length>0&&_.map((function(e,t){return Object(j.jsx)("div",{onClick:function(){return I(e)},className:"chip",children:e},t)}))]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"heading",children:"Top Diseases"}),E.length>0&&E.map((function(e,t){return Object(j.jsx)("div",{onClick:function(){return I(e)},className:"chip",children:e},t)}))]})]})})]})},b=function(e){var t=e.text,n=e.maxLength,c=a.a.useState(!0),s=Object(r.a)(c,2),i=s[0],o=s[1];return t.length<=n?Object(j.jsx)("div",{className:"info",children:t}):Object(j.jsxs)("div",{className:"info",children:[i?"".concat(t.substr(0,n).trim(),"..."):t,i?Object(j.jsx)("a",{href:"/#",className:"link",onClick:function(){return o(!1)},children:" read more"}):Object(j.jsx)("a",{href:"/#",className:"link",onClick:function(){return o(!0)},children:" read less"})]})},p=function(e){var t,n,c,a,s,i,r=e.info;try{t=JSON.parse('"'+r.post_title[0].replace(/"/g,'\\"')+'"').replace(/%/g,"~~pct~~"),t=decodeURIComponent(t).toString().replace(/~~pct~~/g,"%"),n=JSON.parse('"'+r.post_group[0].replace(/"/g,'\\"')+'"').replace(/%/g,"~~pct~~"),n=decodeURIComponent(n).toString().replace(/~~pct~~/g,"%"),i=r.post_url[0],c=(c=JSON.stringify(r.post_content[0])).replace(/<[^>]+>/g,""),a=r.symptoms,s=r.diseases}catch(o){console.log(o),console.log(r.post_content[0]),console.log(JSON.parse('"'+r.post_title[0].replace(/"/g,'\\"')+'"')),console.log(r.post_group[0])}return Object(j.jsx)(j.Fragment,{children:t&&Object(j.jsx)("div",{className:"cards",children:Object(j.jsxs)("article",{className:"information [ card ]",children:[Object(j.jsx)("h2",{className:"title",onClick:function(){window.open(i,"_blank")},children:t}),Object(j.jsxs)("h2",{className:"subtitle",children:["Group: ",n]}),Object(j.jsx)(b,{text:c,maxLength:300}),Object(j.jsxs)("div",{children:[a&&a.length>0&&Object(j.jsx)("p",{className:"heading",children:"Symptoms"}),a&&a.length>0&&a.map((function(e,t){return Object(j.jsx)("div",{className:"chip",children:e},t)}))]}),Object(j.jsxs)("div",{children:[s&&s.length>0&&Object(j.jsx)("p",{className:"heading",children:"Disease"}),s&&s.length>0&&s.map((function(e,t){return Object(j.jsx)("div",{className:"chip",children:e},t)}))]})]})})})},O=n(16),f=n(11),g=n.n(f),m=(n(28),function(e){var t=e.onPageChange,n=e.currentPage,c=e.className;return Object(j.jsxs)("ul",{className:g()("pagination-container",Object(O.a)({},c,c)),children:[Object(j.jsx)("li",{className:g()("pagination-item",{disabled:1===n}),onClick:function(){t(n-1)},children:Object(j.jsx)("div",{className:"arrow left"})}),Object(j.jsx)("li",{className:g()("pagination-item"),onClick:function(){t(n+1)},children:Object(j.jsx)("div",{className:"arrow right"})})]})}),x=function(e){var t=e.cardInfo,n=void 0===t?[]:t,a=e.query,s=Object(c.useState)(n),i=Object(r.a)(s,2),o=i[0],u=i[1],d=Object(c.useState)(1),h=Object(r.a)(d,2),b=h[0],O=h[1];return Object(c.useEffect)((function(){a.length<1||l.a.post("http://127.0.0.1:5050/search_query",{query:a,page:b,page_count:20}).then((function(e){var t=[e.data.data[0]];t&&t.length>0?(console.log(e.data),u(e.data.data)):u([])}))}),[b,a]),Object(j.jsxs)("div",{children:[o.length>0&&Object(j.jsx)(m,{className:"pagination-bar",currentPage:b,onPageChange:function(e){return O(e)}}),o.length>0&&o.map((function(e,t){return Object(j.jsx)(p,{info:e},t)})),o.length>0&&Object(j.jsx)(m,{className:"pagination-bar",currentPage:b,onPageChange:function(e){return O(e)}})]})},v=(n(29),n(30),n(31),function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"shell",children:Object(j.jsxs)("div",{className:"wrap",children:[Object(j.jsx)("div",{className:"box",style:{background:"#fff"},children:Object(j.jsx)(h,{updateQuery:function(e){a(e)}})}),Object(j.jsx)("div",{className:"box",style:{background:"#ff5751"},children:Object(j.jsx)(x,{query:n})})]})}),Object(j.jsx)("div",{className:"footer",children:"Developed by Akash, Bhargav, Charles & Vansh"})]})});i.a.render(Object(j.jsx)(v,{}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.05222092.chunk.js.map